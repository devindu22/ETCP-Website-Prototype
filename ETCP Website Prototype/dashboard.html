<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard | ETCP</title>

    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" href="img/favicon_io/favicon.ico" type="image/x-icon">

    <style>
        /* ===== Variables ===== */
        :root {
            --primary-green: #28a745;
            --navbar-bg: #28a745;
            --text-dark: #333;
            --hover-green: #218838;
            --light-bg: #f0fdfa; /* very light mint background */
            --card-border-radius: 1rem;
            --sidebar-bg: #e6ffe6; /* Lighter green for sidebar */
            --active-link-bg: #d4f8d4;
            --table-header-bg: #f5f5f5;
        }

        /* ===== Global ===== */
        body {
            margin: 0;
            padding-top: 70px; /* account for fixed navbar */
            color: var(--text-dark);
            font-family: 'Poppins', sans-serif;
            background-color: #fff;
            scroll-behavior: smooth;
            overflow-x: hidden; /* Prevent horizontal scroll due to animations */
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        /* Remove default focus outline and add custom focus style */
        .form-control:focus {
            box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }

        /* ===== Navbar ===== */
        .navbar {
            background-color: var(--navbar-bg);
            transition: padding 0.3s ease;
            padding: 1rem 1rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .navbar.navbar-shrink {
            padding: 0.25rem 1rem;
        }

        .navbar .navbar-brand img {
            height: 40px;
        }

        .nav-link {
            color: white !important;
            position: relative;
            padding: 0.5rem 0.75rem;
            transition: color 0.2s ease;
            font-weight: 500;
        }

        .nav-link::after {
            content: "";
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: white;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link:hover {
            color: #e0e0e0 !important;
        }

        .nav-link.active {
            font-weight: 600;
            color: aqua !important; /* Highlight active link */
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5); /* Subtle glow effect */
        }

        .navbar-toggler-icon {
            filter: invert(1);
        }

        /* ===== Welcome Modal ===== */
        .welcome-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1050; /* Above navbar */
            opacity: 0;
            pointer-events: none; /* Allow clicks through when invisible */
            transition: opacity 0.5s ease-out;
        }

        .welcome-modal-overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .welcome-modal-content {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--hover-green) 100%);
            color: white;
            padding: 3rem 4rem;
            border-radius: var(--card-border-radius);
            text-align: center;
            font-size: 2.2rem;
            font-weight: 600;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            transform: scale(0.7);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.5s ease-out; /* Bounce effect */
        }

        .welcome-modal-overlay.show .welcome-modal-content {
            transform: scale(1);
            opacity: 1;
        }

        /* ===== Dashboard Layout ===== */
        .dashboard-container {
            display: flex;
            min-height: calc(100vh - 70px - 100px); /* Full viewport height minus navbar and footer */
            background-color: var(--light-bg);
            border-radius: var(--card-border-radius);
            overflow: hidden;
            margin: 2rem auto;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            max-width: 1300px; /* Max width for the whole dashboard */
        }

        /* Sidebar */
        .dashboard-sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            padding: 2rem 0;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);
            flex-shrink: 0;
            position: relative; /* For profile pic positioning */
        }

        .user-profile {
            text-align: center;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
        }

        .user-profile img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-green);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            animation: fadeInScale 0.8s ease-out;
        }

        .user-profile h5 {
            margin-top: 0.8rem;
            font-weight: 600;
            color: var(--text-dark);
            animation: fadeInUp 0.8s ease-out 0.2s forwards;
            opacity: 0;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-menu li a {
            display: flex;
            align-items: center;
            padding: 0.8rem 1.5rem;
            color: var(--text-dark);
            font-weight: 500;
            transition: background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            margin-bottom: 0.2rem;
            animation: fadeInLeft 0.8s ease-out forwards;
            opacity: 0;
        }

        .sidebar-menu li:nth-child(1) a { animation-delay: 0.3s; }
        .sidebar-menu li:nth-child(2) a { animation-delay: 0.4s; }
        .sidebar-menu li:nth-child(3) a { animation-delay: 0.5s; }
        .sidebar-menu li:nth-child(4) a { animation-delay: 0.6s; }
        .sidebar-menu li:nth-child(5) a { animation-delay: 0.7s; }
        .sidebar-menu li:nth-child(6) a { animation-delay: 0.8s; }
        .sidebar-menu li:nth-child(7) a { animation-delay: 0.9s; }
        .sidebar-menu li:nth-child(8) a { animation-delay: 1.0s; }
        .sidebar-menu li:nth-child(9) a { animation-delay: 1.1s; } /* New link */
        .sidebar-menu li:nth-child(10) a { animation-delay: 1.2s; } /* New link */


        .sidebar-menu li a i {
            margin-right: 0.8rem;
            font-size: 1.1rem;
            color: var(--primary-green);
            transition: color 0.2s ease;
        }

        .sidebar-menu li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary-green);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: -1;
        }

        .sidebar-menu li a:hover {
            color: white;
            transform: translateX(5px);
        }

        .sidebar-menu li a:hover::before {
            transform: translateX(0);
        }

        .sidebar-menu li a:hover i {
            color: white;
        }

        .sidebar-menu li a.active {
            background-color: var(--active-link-bg);
            color: var(--primary-green);
            border-left: 5px solid var(--primary-green);
            font-weight: 600;
        }
        .sidebar-menu li a.active i {
            color: var(--primary-green);
        }
        .sidebar-menu li a.active::before {
            transform: translateX(-100%); /* Ensure active state doesn't have the hover background */
        }


        /* Main Content Area */
        .dashboard-content {
            flex-grow: 1;
            padding: 2rem 3rem;
            background-color: white;
            border-radius: var(--card-border-radius);
            position: relative;
        }

        .content-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            padding-bottom: 2rem; /* Ensure space for content */
        }

        .content-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .content-section h3 {
            font-weight: 600;
            color: var(--primary-green);
            margin-bottom: 0.5rem;
            animation: fadeInUp 0.8s ease-out;
        }

        .content-section p.text-muted {
            animation: fadeInUp 0.8s ease-out 0.1s forwards;
            opacity: 0; /* Initial state for animation */
        }

        /* My Bookings Table */
        .bookings-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 0.8rem; /* Space between rows */
            margin-top: 1.5rem;
        }

        .bookings-table th,
        .bookings-table td {
            padding: 0.8rem 1rem;
            text-align: left;
            border: none; /* Remove default bootstrap borders */
        }

        .bookings-table th {
            background-color: var(--table-header-bg);
            font-weight: 600;
            color: var(--text-dark);
            position: sticky;
            top: 0;
            z-index: 1;
        }
        .bookings-table th:first-child { border-top-left-radius: 0.5rem; border-bottom-left-radius: 0.5rem;}
        .bookings-table th:last-child { border-top-right-radius: 0.5rem; border-bottom-right-radius: 0.5rem;}

        .bookings-table tr {
            background-color: #fcfcfc;
            border-radius: 0.8rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .bookings-table tr:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .bookings-table td:first-child { border-top-left-radius: 0.8rem; border-bottom-left-radius: 0.8rem; }
        .bookings-table td:last-child { border-top-right-radius: 0.8rem; border-bottom-right-radius: 0.8rem; }

        .bookings-table .status-confirmed {
            color: var(--primary-green);
            font-weight: 500;
        }

        .bookings-table .status-pending {
            color: orange;
            font-weight: 500;
        }
        .bookings-table .status-completed {
            color: #007bff; /* Blue for completed */
            font-weight: 500;
        }
        .bookings-table .status-cancelled {
            color: #dc3545; /* Red for cancelled */
            font-weight: 500;
        }

        .bookings-table .action-btn {
            padding: 0.4rem 0.8rem;
            border-radius: 0.5rem;
            font-size: 0.9rem;
            margin-right: 0.5rem;
            transition: transform 0.2s ease;
        }
        .bookings-table .action-btn:hover {
            transform: scale(1.05);
        }

        /* Search bar for bookings */
        .bookings-search-bar {
            margin-bottom: 1.5rem;
            display: flex;
            gap: 0.5rem;
        }
        .bookings-search-bar .form-control {
            flex-grow: 1;
            border-radius: 0.5rem;
            border: 1px solid #ced4da;
            padding: 0.75rem 1rem;
        }
        .bookings-search-bar .btn {
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            font-weight: 500;
        }

        /* Recommendations Grid */
        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .recommendation-card {
            background-color: white;
            border-radius: var(--card-border-radius);
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .recommendation-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .recommendation-card img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            display: block;
        }

        .recommendation-card .overlay-text {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0));
            color: white;
            padding: 0.8rem 1rem;
            font-weight: 600;
            font-size: 1.1rem;
            border-bottom-left-radius: var(--card-border-radius);
            border-bottom-right-radius: var(--card-border-radius);
        }

        /* Offers Section */
        .offer-card {
            background: linear-gradient(90deg, #e0ffe0, #f0fff0);
            border: 1px solid var(--primary-green);
            border-radius: var(--card-border-radius);
            padding: 1.5rem;
            margin-top: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .offer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
        }

        .offer-content h4 {
            font-weight: 600;
            color: var(--primary-green);
            margin-bottom: 0.5rem;
        }

        .offer-content p {
            font-size: 0.95rem;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .offer-card .offer-img {
            width: 120px;
            height: 100px;
            object-fit: contain;
            margin-left: 1.5rem;
            flex-shrink: 0;
        }
        .offer-card .btn-success {
            background-color: var(--primary-green);
            border-color: var(--primary-green);
            border-radius: 0.5rem;
            padding: 0.6rem 1.2rem;
            font-weight: 500;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        .offer-card .btn-success:hover {
            background-color: var(--hover-green);
            border-color: var(--hover-green);
            transform: scale(1.03);
        }


        /* ===== Footer ===== */
        footer {
            background-color: #f5f5f5;
            color: #555;
            padding: 40px 0;
            margin-top: 2rem;
        }

        .footer-logo img {
            height: 40px;
        }

        .footer-desc {
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .footer-links a {
            display: block;
            color: #555;
            margin-bottom: 0.5rem;
            transition: color 0.2s ease;
        }

        .footer-links a:hover {
            color: var(--hover-green);
        }

        .social-icons a {
            color: #555;
            font-size: 1.2rem;
            margin-right: 15px;
            transition: box-shadow 0.3s ease, color 0.2s ease;
            display: inline-block;
        }

        .social-icons a:hover {
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
            color: var(--hover-green);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            font-size: 0.85rem;
            border-top: 1px solid #ddd;
            margin-top: 20px;
        }

        /* Responsive adjustments */
        @media (max-width: 991.98px) {
            .dashboard-container {
                flex-direction: column;
                margin: 1rem auto;
                border-radius: 0; /* No border-radius on small screens */
            }

            .dashboard-sidebar {
                width: 100%;
                padding: 1rem;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
                overflow-x: auto; /* Allow horizontal scroll for sidebar menu if too wide */
            }
            .sidebar-menu {
                display: flex;
                flex-wrap: nowrap; /* Keep items in a single row */
                overflow-x: auto; /* Enable horizontal scrolling */
                -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
                padding-bottom: 0.5rem; /* Space for scrollbar */
                justify-content: flex-start; /* Align items to start */
            }

            .sidebar-menu li {
                flex-shrink: 0; /* Prevent items from shrinking */
                margin-right: 0.5rem; /* Space between horizontal items */
            }

            .sidebar-menu li a {
                padding: 0.5rem 1rem;
                white-space: nowrap; /* Prevent text wrapping */
                border-left: none;
                border-bottom: 3px solid transparent;
            }
            .sidebar-menu li a.active {
                border-bottom: 3px solid var(--primary-green);
                border-left: none; /* Remove left border from active state on mobile */
                background-color: transparent; /* Remove background on mobile active */
            }
            .sidebar-menu li a:hover {
                transform: none; /* Disable horizontal transform on hover for mobile */
            }
            .sidebar-menu li a:hover::before {
                transform: translateX(-100%); /* Disable hover background effect on mobile */
            }

            .dashboard-content {
                padding: 1.5rem;
            }
            .bookings-table th, .bookings-table td {
                font-size: 0.9rem;
            }
            .bookings-table th:first-child, .bookings-table td:first-child { border-top-left-radius: 0; border-bottom-left-radius: 0; }
            .bookings-table th:last-child, .bookings-table td:last-child { border-top-right-radius: 0; border-bottom-right-radius: 0; }

            .recommendations-grid {
                grid-template-columns: 1fr; /* Single column on small screens */
            }
            .offer-card {
                flex-direction: column;
                text-align: center;
            }
            .offer-card .offer-img {
                margin: 1rem 0;
            }
        }
        @media (max-width: 767.98px) {
            body {
                padding-top: 56px; /* Adjust for smaller collapsed navbar height on mobile */
            }
            .dashboard-container {
                margin-top: 0; /* No top margin on very small screens */
                border-radius: 0;
                min-height: calc(100vh - 56px - 100px);
            }
            .welcome-modal-content {
                font-size: 1.8rem;
                padding: 2rem 3rem;
            }
        }

        /* Keyframe Animations */
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>

<body>
    <!-- ===== Welcome Modal ===== -->
    <div class="welcome-modal-overlay" id="welcomeModal">
        <div class="welcome-modal-content">
            Welcome traveler!
        </div>
    </div>

    <!-- ===== Navbar ===== -->
    <nav id="mainNavbar" class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="img/logo.png" alt="ETCP Logo" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="register.html">Register your property</a></li>
                    <li class="nav-item"><a class="nav-link" href="plan.html">Plan your trip</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About us</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <img src="img/flag.png" alt="Language" style="height:24px; border-radius:50%;" />
                        </a>
                    </li>
                    <li class="nav-item"><a class="nav-link active" href="signin.html">Log out</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ===== Dashboard Main Section ===== -->
    <main class="container dashboard-container" id="dashboardMain">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <div class="user-profile">
                <img src="https://placehold.co/80x80/28a745/ffffff?text=BH" alt="Brooke Higgins Profile" />
                <h5>Brooke Higgins</h5>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" data-section="myBookings" class="active"><i class="fas fa-calendar-alt"></i> My bookings</a></li>
                <li><a href="#" data-section="calendar"><i class="fas fa-calendar-days"></i> Calendar</a></li>
                <li><a href="#" data-section="paymentHistory"><i class="fas fa-credit-card"></i> Payment History</a></li>
                <li><a href="#" data-section="notification"><i class="fas fa-bell"></i> Notification</a></li>
                <li><a href="#" data-section="wishlist"><i class="fas fa-heart"></i> Wishlist</a></li>
                <li><a href="#" data-section="subscriptions"><i class="fas fa-bookmark"></i> Subscriptions</a></li>
                <li><a href="#" data-section="sustainability"><i class="fas fa-leaf"></i> Sustainability impact</a></li>
                <li><a href="#" data-section="settings"><i class="fas fa-cog"></i> Settings</a></li>
                <li><a href="#" data-section="feedback"><i class="fas fa-comment-dots"></i> Feedback</a></li>
                <li><a href="#" data-section="help"><i class="fas fa-question-circle"></i> Help</a></li>
            </ul>
        </aside>

        <!-- Content Area -->
        <section class="dashboard-content">
            <!-- My Bookings Section -->
            <div id="myBookings" class="content-section active">
                <h3>My Bookings</h3>
                <p class="text-muted">View and manage your upcoming eco-tourism adventures.</p>

                <div class="bookings-search-bar">
                    <input type="text" id="bookingSearchInput" class="form-control" placeholder="Search by location or activity...">
                    <button id="clearSearchBtn" class="btn btn-outline-secondary">Clear</button>
                </div>

                <div class="table-responsive">
                    <table class="bookings-table" id="bookingsTable">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Location</th>
                                <th>Activity</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Bookings will be rendered here by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <h3 class="mt-5">Recommendations</h3>
                <div class="recommendations-grid">
                    <div class="recommendation-card">
                        <img src="img/Zimbabwe.jpg" alt="Zimbabwe" />
                        <div class="overlay-text">Zimbabwe</div>
                    </div>
                    <div class="recommendation-card">
                        <img src="img/Japan.jpg" alt="Japan" />
                        <div class="overlay-text">Japan</div>
                    </div>
                    <div class="recommendation-card">
                        <img src="img/Maldives.jpeg" alt="Maldives" />
                        <div class="overlay-text">Maldives</div>
                    </div>
                    <div class="recommendation-card">
                        <img src="img/Switzerland.jpeg" alt="Switzerland" />
                        <div class="overlay-text">Switzerland</div>
                    </div>
                </div>

                <h3 class="mt-5">Offers</h3>
                <p class="text-muted">Promotions, deals and special offers for you</p>
                <div class="offer-card">
                    <div class="offer-content">
                        <h4>Quick escape, quality time</h4>
                        <p>Save 10% or more at participating properties – just look for the green Eco Rewards!</p>
                        <button class="btn btn-success">Save on stays</button>
                    </div>
                    <img src="img/offer.jpg" alt="Offer Image" class="offer-img" />
                </div>
            </div>

            <!-- Calendar Section -->
            <div id="calendar" class="content-section">
                <h3>Calendar & Trip Planner</h3>
                <p>Visualize your bookings and plan new trips easily.</p>
                <div class="alert alert-info mt-3" role="alert">
                    <i class="fas fa-clock me-2"></i> This interactive calendar feature is coming soon! Stay tuned for updates.
                </div>
                <!-- Future calendar integration would go here -->
            </div>

            <!-- Payment History Section -->
            <div id="paymentHistory" class="content-section">
                <h3>Payment History</h3>
                <p>Review your past transactions and manage payment methods.</p>
                <div class="table-responsive mt-3">
                    <table class="bookings-table">
                        <thead>
                            <tr>
                                <th>Transaction ID</th>
                                <th>Date</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Method</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="paymentHistoryTableBody">
                            <!-- Payment data will be rendered here by JavaScript -->
                        </tbody>
                    </table>
                </div>
                <h4 class="mt-5 text-primary-green">Manage Payment Methods</h4>
                <p class="text-muted">Add or remove your saved payment details.</p>
                <div class="card mt-3">
                    <div class="card-body">
                        <p class="card-text">No payment methods saved yet.</p>
                        <button class="btn btn-outline-success"><i class="fas fa-plus me-2"></i>Add New Card</button>
                    </div>
                </div>
            </div>

            <!-- Other Sections (Existing Placeholders) -->
            <div id="notification" class="content-section">
                <h3>Notifications</h3>
                <p>No new notifications at the moment. Check back later!</p>
                <div class="alert alert-info mt-3" role="alert">
                    <i class="fas fa-info-circle me-2"></i> All your important alerts and updates will appear here.
                </div>
            </div>
            <div id="wishlist" class="content-section">
                <h3>Wishlist</h3>
                <p>Your dream eco-adventures are waiting! Add properties or activities to your wishlist to plan for later.</p>
                <div class="alert alert-success mt-3" role="alert">
                    <i class="fas fa-lightbulb me-2"></i> Start exploring destinations and click the bookmark icon to add them here!
                </div>
            </div>
            <div id="subscriptions" class="content-section">
                <h3>Subscriptions</h3>
                <p>Manage your ETCP newsletters and premium content subscriptions.</p>
                <ul class="list-group mt-3">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Monthly Eco-Travel Digest
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="digestSwitch" checked>
                            <label class="form-check-label" for="digestSwitch"></label>
                        </div>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Exclusive Deals & Offers
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="dealsSwitch">
                            <label class="form-check-label" for="dealsSwitch"></label>
                        </div>
                    </li>
                </ul>
            </div>
            <div id="sustainability" class="content-section">
                <h3>Sustainability Impact</h3>
                <p>See the positive environmental and community impact of your eco-tourism choices with ETCP.</p>
                <div class="card mt-3">
                    <div class="card-body">
                        <h5 class="card-title text-success"><i class="fas fa-tree me-2"></i>Your Eco Footprint</h5>
                        <p class="card-text">Total CO2 offset this year: <strong>500 kg</strong></p>
                        <p class="card-text">Local communities supported: <strong>3 projects</strong></p>
                        <button class="btn btn-outline-success">Learn more about your impact</button>
                    </div>
                </div>
            </div>
            <div id="settings" class="content-section">
                <h3>Settings</h3>
                <p>Manage your account preferences, profile, and security settings.</p>
                <ul class="list-group mt-3">
                    <li class="list-group-item">Profile Information <i class="fas fa-chevron-right float-end"></i></li>
                    <li class="list-group-item">Change Password <i class="fas fa-chevron-right float-end"></i></li>
                    <li class="list-group-item">Notification Preferences <i class="fas fa-chevron-right float-end"></i></li>
                    <li class="list-group-item">Linked Accounts <i class="fas fa-chevron-right float-end"></i></li>
                </ul>
            </div>
            <div id="feedback" class="content-section">
                <h3>Feedback</h3>
                <p>We'd love to hear your thoughts! Help us improve ETCP.</p>
                <form class="mt-3">
                    <div class="mb-3">
                        <label for="feedbackTextarea" class="form-label">Your Feedback</label>
                        <textarea class="form-control" id="feedbackTextarea" rows="5" placeholder="Share your suggestions, report issues, or just tell us what you love!"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Submit Feedback</button>
                </form>
            </div>
            <div id="help" class="content-section">
                <h3>Help</h3>
                <p>Find answers to common questions or contact our support team.</p>
                <ul class="list-group mt-3">
                    <li class="list-group-item">FAQs <i class="fas fa-external-link-alt float-end"></i></li>
                    <li class="list-group-item">Troubleshooting <i class="fas fa-external-link-alt float-end"></i></li>
                    <li class="list-group-item">Contact Support <i class="fas fa-external-link-alt float-end"></i></li>
                </ul>
            </div>
        </section>
    </main>

    <!-- ===== Footer ===== -->
    <footer>
        <div class="container">
            <div class="row gy-4">
                <div class="col-md-4 footer-logo">
                    <img src="img/logo.png" alt="ETCP logo" style="width: 120px; height: 75px;">
                    <p class="footer-desc">
                        The ETCP is an innovative cloud-based platform designed to revolutionize the way eco-conscious travellers discover, plan, and engage with eco-tourism experiences worldwide.
                    </p>
                </div>
                <div class="col-md-2 footer-links">
                    <h6>Discover</h6>
                    <a href="#">Home</a>
                    <a href="#">Features</a>
                    <a href="#">Destinations</a>
                </div>
                <div class="col-md-2 footer-links">
                    <h6>Support</h6>
                    <a href="#">Help Center</a>
                    <a href="#">FAQs</a>
                    <a href="#">Contact Support</a>
                </div>
                <div class="col-md-2 footer-links">
                    <h6>Partners</h6>
                    <a href="#">Become a Provider</a>
                    <a href="#">Affiliates</a>
                </div>
                <div class="col-md-2 footer-links">
                    <h6>Legal</h6>
                    <a href="#">Terms & Settings</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Contact Us</a>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col text-center social-icons">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright © 2025 ETCP.com™. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS bundle (with Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>
        // Dummy data for bookings
        const bookingsData = [
            { date: "2024-07-15", location: "Sri Lanka", activity: "Eco-Lodge Stay", status: "Completed" },
            { date: "2024-08-01", location: "Costa Rica", activity: "Rainforest Trek", status: "Completed" },
            { date: "2025-10-20", location: "Bhutan", activity: "Mountain Hike", status: "Pending" },
            { date: "2026-01-10", location: "New Zealand", activity: "Glacier Exploration", status: "Pending" },
            { date: "2024-06-05", location: "Thailand", activity: "Beach Cleanup", status: "Completed" },
            { date: "2024-03-12", location: "Kenya", activity: "Safari Adventure", status: "Completed" },
            { date: "2025-08-28", location: "Peru", activity: "Machu Picchu Hike", status: "Confirmed" },
            { date: "2024-04-18", location: "Iceland", activity: "Northern Lights Tour", status: "Cancelled" },
        ];

        // Dummy data for payment history
        const paymentHistoryData = [
            { id: "TRX001", date: "2024-06-10", amount: "LKR 10,800", status: "Paid", method: "Credit Card" },
            { id: "TRX002", date: "2024-07-05", amount: "LKR 18,980", status: "Paid", method: "PayPal" },
            { id: "TRX003", date: "2024-03-01", amount: "LKR 7,500", status: "Paid", method: "Credit Card" },
            { id: "TRX004", date: "2024-01-20", amount: "LKR 12,500", status: "Refunded", method: "Bank Transfer" },
            { id: "TRX005", date: "2024-05-15", amount: "LKR 9,000", status: "Paid", method: "Credit Card" },
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const welcomeModal = document.getElementById('welcomeModal');
            const dashboardMain = document.getElementById('dashboardMain');
            const sidebarLinks = document.querySelectorAll('.sidebar-menu a');
            const contentSections = document.querySelectorAll('.content-section');
            const bookingsTableBody = document.querySelector('#bookingsTable tbody');
            const bookingSearchInput = document.getElementById('bookingSearchInput');
            const clearSearchBtn = document.getElementById('clearSearchBtn');
            const paymentHistoryTableBody = document.getElementById('paymentHistoryTableBody');

            // --- Welcome Modal Logic ---
            // Show the modal
            welcomeModal.classList.add('show');
            dashboardMain.style.display = 'none'; // Hide dashboard initially

            // Hide modal after 1.5 seconds
            setTimeout(() => {
                welcomeModal.classList.remove('show');
                // After modal fades out, display the dashboard
                setTimeout(() => {
                    welcomeModal.style.display = 'none';
                    dashboardMain.style.display = 'flex'; // Show dashboard
                }, 500); // Allow modal transition to complete before setting display: none
            }, 1500); // 1.5 seconds

            // --- Navbar Shrink Logic ---
            const navbar = document.getElementById('mainNavbar');
            function checkNavbarScroll() {
                if (window.scrollY > 50) {
                    navbar.classList.add('navbar-shrink');
                } else {
                    navbar.classList.remove('navbar-shrink');
                }
            }
            document.addEventListener('scroll', checkNavbarScroll);
            checkNavbarScroll(); // Initial check on load

            // --- Sidebar Navigation Logic ---
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // Prevent default link behavior

                    // Remove active class from all links
                    sidebarLinks.forEach(item => item.classList.remove('active'));
                    // Add active class to the clicked link
                    this.classList.add('active');

                    const targetSectionId = this.dataset.section;

                    // Transition content sections
                    contentSections.forEach(section => {
                        if (section.id === targetSectionId) {
                            // If current active, do nothing or animate in place
                            if (!section.classList.contains('active')) {
                                // Fade out all sections first
                                contentSections.forEach(s => s.classList.remove('active'));
                                // Then fade in the target section
                                setTimeout(() => {
                                    section.classList.add('active');
                                }, 100); // Small delay for fade-out to begin
                            }
                        } else {
                            section.classList.remove('active'); // Hide non-target sections
                        }
                    });
                });
            });

            // Set initial active section (My Bookings)
            document.getElementById('myBookings').classList.add('active');

            // --- Render Bookings Table ---
            function renderBookings(filterText = '') {
                bookingsTableBody.innerHTML = ''; // Clear existing rows
                const filteredBookings = bookingsData.filter(booking => {
                    const searchTerm = filterText.toLowerCase();
                    return booking.location.toLowerCase().includes(searchTerm) ||
                           booking.activity.toLowerCase().includes(searchTerm) ||
                           booking.status.toLowerCase().includes(searchTerm) ||
                           booking.date.toLowerCase().includes(searchTerm);
                });

                if (filteredBookings.length === 0) {
                    bookingsTableBody.innerHTML = `<tr><td colspan="5" class="text-center text-muted py-4">No bookings found.</td></tr>`;
                    return;
                }

                filteredBookings.forEach(booking => {
                    const row = document.createElement('tr');
                    const statusClass = `status-${booking.status.toLowerCase().replace(/\s/g, '-')}`;
                    row.innerHTML = `
                        <td>${booking.date}</td>
                        <td>${booking.location}</td>
                        <td>${booking.activity}</td>
                        <td><span class="${statusClass}">${booking.status}</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary action-btn">View</button>
                            <button class="btn btn-sm btn-outline-danger action-btn">Cancel</button>
                        </td>
                    `;
                    bookingsTableBody.appendChild(row);
                });
            }

            // Initial render of bookings
            renderBookings();

            // --- Booking Search Functionality ---
            bookingSearchInput.addEventListener('input', (event) => {
                renderBookings(event.target.value);
            });

            clearSearchBtn.addEventListener('click', () => {
                bookingSearchInput.value = '';
                renderBookings();
            });

            // --- Render Payment History Table ---
            function renderPaymentHistory() {
                paymentHistoryTableBody.innerHTML = ''; // Clear existing rows

                if (paymentHistoryData.length === 0) {
                    paymentHistoryTableBody.innerHTML = `<tr><td colspan="6" class="text-center text-muted py-4">No payment history found.</td></tr>`;
                    return;
                }

                paymentHistoryData.forEach(payment => {
                    const row = document.createElement('tr');
                    const statusClass = `status-${payment.status.toLowerCase().replace(/\s/g, '-')}`; // Reusing status classes for consistency
                    row.innerHTML = `
                        <td>${payment.id}</td>
                        <td>${payment.date}</td>
                        <td>${payment.amount}</td>
                        <td><span class="${statusClass}">${payment.status}</span></td>
                        <td>${payment.method}</td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary action-btn">Details</button>
                            ${payment.status === 'Paid' ? '<button class="btn btn-sm btn-outline-secondary action-btn">Invoice</button>' : ''}
                        </td>
                    `;
                    paymentHistoryTableBody.appendChild(row);
                });
            }

            // Initial render of payment history when the section is activated
            // This will be called when the 'Payment History' sidebar link is clicked
            document.querySelector('.sidebar-menu a[data-section="paymentHistory"]').addEventListener('click', renderPaymentHistory);
        });
    </script>
</body>
</html>
